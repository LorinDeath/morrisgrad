---
import Layout from '../layouts/Layout.astro';
import NavCard from '../components/NavCard.astro';
import SecondaryBtn from '../components/SecondaryBtn.astro';
import Notes from '../components/Notes.astro';
import RadioPlayer from '../components/RadioPlayer.astro';

// Массив для основных кнопок (Книги, Музыка и т.д.)
const mainCategories = [
  { title: "Книги", img: "/images/books.jpg", url: "/books" },
  { title: "Музыка", img: "/images/music.jpg", url: "/music" },
  { title: "Мини-игры", img: "/images/games.jpg", url: "/games" },
  { title: "Арты", img: "/images/arts.jpg", url: "/arts" },
  { title: "Рассказы", img: "/images/stories.jpg", url: "/stories" },
];

// Массив для горизонтальных кнопок (Герои, Миры и т.д.)
const secondaryLinks = [
  { title: "Герои", url: "/heroes" },
  { title: "Миры", url: "/worlds" },
  { title: "Города", url: "/cities" },
];
---

<Layout title="Моррис Град - Время движется лишь вперёд" isHome={true}>
  <header class="header">
    <div class="logo-area">
      <div class="logo-placeholder">M</div>
      <span class="site-name">МоррисГрад v0.003</span>
    </div>
  </header>

  <main class="container">
    <section class="music-banner-container">
      <!-- ЛЕВАЯ ЧАСТЬ: Картинка -->
      <div class="banner-left">
        <!-- Замените src на путь к вашей картинке -->
        <img src="https://via.placeholder.com/400x400.png?text=New+Track" alt="Когда то тут была надпись (Обложка трека), но решила убрать чтобы люди не путались)" class="album-cover">
      </div>

      <!-- ПРАВАЯ ЧАСТЬ: YouTube плеер -->
      <div class="banner-right">
        <div class="video-responsive">
          <iframe width="560" height="315" src="https://www.youtube.com/embed?listType=playlist&list=PL8dSqpGZDZjYy2by-U3dQvZr_7ho7-fmA" title="YouTube video player" allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
      </div>
    </section>

    <!-- Плеер под баннером -->
    <div class="inline-player-container">
      <RadioPlayer transition:persist />
    </div>

    <h1 class="welcome-text">Добро пожаловать, Элфдид!</h1>

    <div class="main-grid">
      {mainCategories.map((item) => (
        <NavCard title={item.title} img={item.img} url={item.url} />
      ))}
    </div>

    <div class="shimmer-line"></div>

    <div class="secondary-list">
      {secondaryLinks.map((item) => (
        <SecondaryBtn title={item.title} url={item.url} />
      ))}
    </div>

    <!-- Компонент со случайными заметками -->
    <Notes transition:persist />
  </main>

  <footer class="footer">
  <div class="socials">
    <a href="https://author.today/u/alex_seylor/works/" target="_blank" rel="noopener noreferrer">Author.Today</a>
    <a href="https://t.me/LorinDeath" target="_blank" rel="noopener noreferrer">Telegram</a>
    <a href="https://www.youtube.com/@Lorin_Death" target="_blank" rel="noopener noreferrer">YouTube</a>
    <a href="https://boosty.to/alexseylormusic" target="_blank" rel="noopener noreferrer">Boosty</a>
  </div>

  

  <p class="copy">&copy; 2026 Lorin Death. Alex Seylor production .</p>
</footer>
</Layout>

<style>
  /* Стили для нового баннера */
  .music-banner-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    align-items: center;
    gap: 30px;
    padding: 20px 0;
    width: 100%;
  }

  .banner-left {
    flex: 1;
    min-width: 300px;
    display: flex;
    justify-content: center;
  }

  .album-cover {
    width: 100%;
    aspect-ratio: 16 / 9;
    object-fit: cover;
    border-radius: 12px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
  }

  .banner-right {
    flex: 1;
    min-width: 300px;
  }

  .video-responsive {
    position: relative;
    padding-bottom: 56.25%; /* 16:9 */
    height: 0;
    overflow: hidden;
    border-radius: 12px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
  }

  .video-responsive iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 0;
  }

  @media (max-width: 768px) {
    .music-banner-container {
      flex-direction: column;
    }
  }

  .inline-player-container {
    margin-bottom: 2rem;
  }
</style>